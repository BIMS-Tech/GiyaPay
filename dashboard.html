<!DOCTYPE html>
<!--  GiyaPay Admin Dashboard  -->
<html data-wf-page="617d6e09a010322867c0ea8e" data-wf-site="617d6e09a01032808ec0ea8d">

<head>
  <meta charset="utf-8">
  <title>GiyaPay - Admin Dashboard</title>
  <meta content="Admin dashboard for GiyaPay blog management system." name="description">
  <meta content="GiyaPay - Admin Dashboard" property="og:title">
  <meta content="Admin dashboard for GiyaPay blog management system." property="og:description">
  <meta content="GiyaPay - Admin Dashboard" property="twitter:title">
  <meta content="Admin dashboard for GiyaPay blog management system." property="twitter:description">
  <meta property="og:type" content="website">
  <meta content="summary_large_image" name="twitter:card">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/giyapay.webflow.css" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({ google: { families: ["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic", "Inter:regular,500,600,700,800,900"] } });</script>
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function (o, c) { var n = c.documentElement, t = " w-mod-"; n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch") }(window, document);</script>
  <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.jpg" rel="apple-touch-icon">
  <style>
    .dashboard-container {
      min-height: calc(100vh - 80px);
      background: #f8f9fa;
      padding: 40px 20px;
    }
    .dashboard-header {
      background: linear-gradient(150deg, #fa9f42, #f03b6e);
      color: white;
      padding: 30px;
      border-radius: 15px;
      margin-bottom: 40px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    .dashboard-welcome {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 10px;
    }
    .dashboard-subtitle {
      font-size: 18px;
      opacity: 0.9;
      margin-bottom: 20px;
    }
    .user-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 20px;
    }
    .user-details {
      font-size: 14px;
      opacity: 0.8;
    }

    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 30px;
      max-width: 1200px;
      margin: 0 auto;
    }
    .dashboard-card {
      background: white;
      border-radius: 15px;
      padding: 40px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.08);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      text-align: center;
      border: 2px solid transparent;
    }
    .dashboard-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(0,0,0,0.15);
      border-color: #fa9f42;
    }
    .card-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 25px;
      background: linear-gradient(137deg, #fa9f42, #f03b6e);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 40px;
      color: white;
    }
    .card-title {
      font-size: 24px;
      font-weight: 700;
      color: #333;
      margin-bottom: 15px;
    }
    .card-description {
      color: #666;
      line-height: 1.6;
      margin-bottom: 25px;
    }
    .card-button {
      background: linear-gradient(137deg, #fa9f42, #f03b6e);
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      text-decoration: none;
      display: inline-block;
      width: 100%;
    }
    .card-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(250, 159, 66, 0.3);
    }
    .stats-section {
      background: white;
      border-radius: 15px;
      padding: 30px;
      margin-bottom: 40px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.08);
    }
    .stats-title {
      font-size: 20px;
      font-weight: 700;
      color: #333;
      margin-bottom: 20px;
    }
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
    }
    .stat-item {
      text-align: center;
      padding: 20px;
      border-radius: 10px;
      background: #f8f9fa;
    }
    .stat-number {
      font-size: 32px;
      font-weight: 700;
      color: #fa9f42;
    }
    .stat-label {
      color: #666;
      font-size: 14px;
      margin-top: 5px;
    }
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255,255,255,0.9);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }
    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 4px solid #f3f3f3;
      border-top: 4px solid #fa9f42;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    @media (max-width: 768px) {
      .dashboard-grid {
        grid-template-columns: 1fr;
      }
      .user-info {
        flex-direction: column;
        text-align: center;
      }
      .dashboard-welcome {
        font-size: 24px;
      }
    }
  </style>
</head>

<body class="body">
  <!-- Loading Overlay -->
  <div id="loading-overlay" class="loading-overlay">
    <div class="loading-spinner"></div>
  </div>

  <!-- Navigation -->
  <div data-animation="default" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease"
    role="banner" class="navbar w-nav">
    <div class="w-container">
      <a href="index.html" class="w-nav-brand">
        <img src="images/giyapay-logo.png" loading="lazy" alt="giyapay logo" class="image-9">
      </a>
      <nav role="navigation" class="nav-menu-2 w-nav-menu">
        <a href="index.html" class="nav-hover w-nav-link">Home</a>
        <a href="index.html#features" class="nav-hover w-nav-link">Features</a>
        <a href="index.html#pricing" class="nav-hover w-nav-link">Pricing</a>
        <a href="blog.html" class="nav-hover w-nav-link">Blog</a>
        <a href="faq.html" class="nav-hover w-nav-link">FAQ</a>
        <a href="contact.html" class="nav-hover w-nav-link">Contact</a>
        <a href="https://calendly.com/salesbimstech/60min-1?back=1&month=2021-10" target="_blank" class="button-6 w-button">Get A Demo</a>
      </nav>
      <div class="menu-button-3 w-nav-button">
        <div class="w-icon-nav-menu"></div>
      </div>
    </div>
  </div>

  <!-- Dashboard Container -->
  <div class="dashboard-container">
    <div class="w-container">
      <!-- Dashboard Header -->
      <div class="dashboard-header">
        <div class="user-info">
          <div>
            <h1 class="dashboard-welcome">Welcome back!</h1>
            <p class="dashboard-subtitle">Manage your GiyaPay blog content from this dashboard</p>
            <div id="user-details" class="user-details">
              <!-- User details will be loaded here -->
            </div>
          </div>
          
        </div>
      </div>

      <!-- Stats Section -->
      <div class="stats-section">
        <h2 class="stats-title">Blog Statistics</h2>
        <div class="stats-grid">
          <div class="stat-item">
            <div id="total-posts" class="stat-number">-</div>
            <div class="stat-label">Total Posts</div>
          </div>
          <div class="stat-item">
            <div id="recent-posts" class="stat-number">-</div>
            <div class="stat-label">This Month</div>
          </div>
          <div class="stat-item">
            <div id="total-views" class="stat-number">-</div>
            <div class="stat-label">Total Views</div>
          </div>
        </div>
      </div>

      <!-- Dashboard Cards -->
      <div class="dashboard-grid">
        <!-- Analysis Card -->
        <div class="dashboard-card">
          <div class="card-icon">üìä</div>
          <h3 class="card-title">GiyaPay Analysis</h3>
          <p class="card-description">
            View detailed analytics, performance metrics, and insights about your payment processing and business growth.
          </p>
          <a href="analysis.html" class="card-button">View Analytics</a>
        </div>

        <!-- Create Post Card -->
        <div class="dashboard-card">
          <div class="card-icon">‚úçÔ∏è</div>
          <h3 class="card-title">Create Blog Post</h3>
          <p class="card-description">
            Write and publish new blog posts for your GiyaPay website. Share insights, updates, and valuable content with your audience.
          </p>
          <a href="admin/create-post.html" class="card-button">Create New Post</a>
        </div>

        <!-- Manage Posts Card -->
        <div class="dashboard-card">
          <div class="card-icon">üìù</div>
          <h3 class="card-title">Manage Blog Posts</h3>
          <p class="card-description">
            View, edit, and manage your existing blog posts. Update content, change status, or delete posts as needed.
          </p>
          <a href="admin/manage-posts.html" class="card-button">Manage Posts</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <div class="wrap">
    <div class="w-layout-grid footer">
      <img src="images/giyapay-white.png" loading="lazy" alt="">
      <p id="w-node-ae4f4612-9f23-1ce3-d98a-36dfc442aa03-c442aa01" class="small-paragraph">17th Floor, KMC, Skyrise 4B, Geonzon Street,<br>Cebu IT Park, Cebu City, 6000</p>
      <div id="w-node-ae4f4612-9f23-1ce3-d98a-36dfc442aa07-c442aa01" class="label cc-footer-section-headline footer-text w-inline-block">Menu</div>
      <div id="w-node-ae4f4612-9f23-1ce3-d98a-36dfc442aa09-c442aa01" class="footer-grid-column">
        <a href="https://www.giyapay.com/" class="footer-link">Home</a>
        <a href="contact.html" class="footer-link">Contact</a>
        <a href="blog.html" class="footer-link">Blog</a>
        <a href="faq.html" class="footer-link">FAQ</a>
        <a href="privacy-policy.html" class="footer-link">Privacy Policy</a>
      </div>
      <div id="w-node-ae4f4612-9f23-1ce3-d98a-36dfc442aa14-c442aa01" class="label cc-footer-section-headline footer-text w-inline-block">Follow Us</div>
      <div id="w-node-ae4f4612-9f23-1ce3-d98a-36dfc442aa16-c442aa01" class="footer-grid-column">
        <div class="div-block-15">
          <a href="https://www.facebook.com/GiyaPay" target="_blank" class="w-inline-block">
            <img src="images/fb.png" loading="lazy" width="25" alt="" class="soc-link">
          </a>
          <a href="https://www.instagram.com/giyapay/" target="_blank" class="w-inline-block">
            <img src="images/ig.png" loading="lazy" width="25" alt="" class="soc-link">
          </a>
          <a href="https://www.youtube.com/channel/UCV8M_KPE5i75L_ne1KuARSA" target="_blank" class="w-inline-block">
            <img src="images/youtube-2.png" loading="lazy" width="25" sizes="(max-width: 1279px) 29.988428115844727px, (max-width: 1439px) 2vw, 29.988428115844727px" srcset="images/youtube-2-p-500.png 500w, images/youtube-2.png 512w" alt="" class="soc-link yt">
          </a>
        </div>
      </div>
      <div id="w-node-ae4f4612-9f23-1ce3-d98a-36dfc442aa1a-c442aa01" class="label cc-footer-section-headline footer-text w-inline-block">Contact Us</div>
      <div id="w-node-ae4f4612-9f23-1ce3-d98a-36dfc442aa1c-c442aa01" class="footer-grid-column">
        <a href="mailto:info@bims.tech" class="footer-email-link">info@bims.tech</a>
      </div>
    </div>
    <p class="small-paragraph cc-copyright-footer">Copyright ¬© 2021 GiyaPay is a product of &nbsp;BIMS Technologies, Inc.</p>
  </div>

  <!-- JavaScript -->
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script src="js/api-config.js" type="text/javascript"></script>
    <script src="js/webflow.js" type="text/javascript"></script>
  <script src="js/header-manager.js" type="text/javascript"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const loadingOverlay = document.getElementById('loading-overlay');
      const userDetails = document.getElementById('user-details');


      // Show loading
      function showLoading() {
        loadingOverlay.style.display = 'flex';
      }

      // Hide loading
      function hideLoading() {
        loadingOverlay.style.display = 'none';
      }

      // Check authentication status
      async function checkAuth() {
        try {
          showLoading();
          const response = await API_CONFIG.fetch(API_CONFIG.ENDPOINTS.ME);
          
          if (!response.ok) {
            // Not authenticated, redirect to login immediately
            window.location.href = 'login.html';
            return;
          }

          const data = await response.json();

          if (data.user) {
            // User is authenticated
            userDetails.innerHTML = `
              <div><strong>Email:</strong> ${data.user.email}</div>
              <div><strong>Last Login:</strong> ${data.user.last_login ? new Date(data.user.last_login).toLocaleString() : 'First login'}</div>
            `;
            loadBlogStats();
          } else {
            // Not authenticated, redirect to login
            window.location.href = 'login.html';
          }
        } catch (error) {
          console.error('Auth check error:', error);
          // Network error or server error, redirect to login
          window.location.href = 'login.html';
        } finally {
          hideLoading();
        }
      }

      // Load blog statistics
      async function loadBlogStats() {
        try {
          const response = await API_CONFIG.fetch(API_CONFIG.ENDPOINTS.POSTS);
          if (response.ok) {
            const posts = await response.json();
            document.getElementById('total-posts').textContent = posts.length;
            
            // Calculate posts this month
            const thisMonth = new Date();
            thisMonth.setDate(1);
            const thisMonthPosts = posts.filter(post => {
              const postDate = new Date(post.date);
              return postDate >= thisMonth;
            });
            document.getElementById('recent-posts').textContent = thisMonthPosts.length;
            
            // Simulate total views (could be stored in database)
            document.getElementById('total-views').textContent = (posts.length * 150 + Math.floor(Math.random() * 500)).toLocaleString();
          }
        } catch (error) {
          console.error('Error loading blog stats:', error);
        }
      }



      // Initialize
      checkAuth();
    });
  </script>
</body>
</html> 